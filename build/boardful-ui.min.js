/*! boardful-ui 2015-08-28 */
var BOARDFUL=BOARDFUL||{};BOARDFUL.ui=BOARDFUL.ui||{};var BOARDFUL=BOARDFUL||{};BOARDFUL.ui=BOARDFUL.ui||{},BOARDFUL.ui.Object=function(a,b){},BOARDFUL.ui.Object.prototype.init=function(a,b){var c=this;return 0===$(a).length?void console.error("invalid html selector",a,$(a)):(this.canvas=a,this.config=b||{},this.selector=this.selector||this.canvas+" > ."+this.config.className,this.effect_list=[],void(void 0!==this.config.htmlFile?$.get(this.config.htmlFile,function(a){$(c.canvas).append(a),$(this.selector).hide(),$(this.selector).fadeIn("slow"),c.onLoad()}):this.onLoad()))},BOARDFUL.ui.Object.prototype.onLoad=function(){},BOARDFUL.ui.Object.prototype.destroy=function(){};var BOARDFUL=BOARDFUL||{};BOARDFUL.ui=BOARDFUL.ui||{},BOARDFUL.ui.Explosion=function(a,b){var c=this;this.canvas=a,this.config=b||{},$(this.canvas).addClass("boardful_explosion"),$(this.canvas).load("src/explosion.html",function(){c.init()})},BOARDFUL.ui.Explosion.prototype.init=function(){$(this.canvas+" .change").html("+100000"),$(this.canvas).addClass("increase")};var BOARDFUL=BOARDFUL||{};BOARDFUL.ui=BOARDFUL.ui||{},BOARDFUL.ui.Ring=function(a,b){var c=this;this.canvas=a,this.config=b||{},$(this.canvas).addClass("boardful_ring"),$(this.canvas).load("src/ring.html",function(){c.init()})},BOARDFUL.ui.Ring.prototype.init=function(){$(this.canvas+" .change").html("+100000"),$(this.canvas).addClass("increase")};var BOARDFUL=BOARDFUL||{};BOARDFUL.ui=BOARDFUL.ui||{},BOARDFUL.ui.Arrow=function(a,b){b=b||{},b.className=b.className||"boardful_arrow",b.htmlFile=b.htmlFile||"src/board/arrow.html",this.init(a,b)},BOARDFUL.ui.Arrow.prototype=new BOARDFUL.ui.Object,BOARDFUL.ui.Arrow.prototype.setTestconfig=function(){},BOARDFUL.ui.Arrow.prototype.onLoad=function(){this.setTestconfig();$(this.canvas).css({transform:"rotate(120deg)"})};var BOARDFUL=BOARDFUL||{};BOARDFUL.ui=BOARDFUL.ui||{},BOARDFUL.ui.Board=function(a,b){b=b||{},b.className=b.className||"boardful_board",b.htmlFile=b.htmlFile||"src/board/board.html",this.init(a,b)},BOARDFUL.ui.Board.prototype=new BOARDFUL.ui.Object,BOARDFUL.ui.Board.prototype.setTestconfig=function(){this.config.playerNum=this.config.playerNum||2,this.config.tableNum=this.config.tableNum||2},BOARDFUL.ui.Board.prototype.onLoad=function(){this.setTestconfig();void 0!==this.config.height&&$(this.canvas).css("height",this.config.height),void 0!==this.config.width&&$(this.canvas).css("width",this.config.width),this.player_list={};for(var a=0;a<this.config.playerNum;++a)$(this.canvas).append('<div class="player'+a+'"></div>'),this.player_list[a]=new BOARDFUL.ui.Player(this.canvas+" > .player"+a);this.table_list={};for(var a=0;a<this.config.tableNum;++a)$(this.canvas).append('<div class="table'+a+'"></div>'),this.table_list[a]=new BOARDFUL.ui.Table(this.canvas+" > .table"+a)};var BOARDFUL=BOARDFUL||{};BOARDFUL.ui=BOARDFUL.ui||{},BOARDFUL.ui.Card=function(a,b){b=b||{},b.className=b.className||"boardful_card",b.htmlFile=b.htmlFile||"src/board/card.html",this.init(a,b)},BOARDFUL.ui.Card.prototype=new BOARDFUL.ui.Object,BOARDFUL.ui.Card.prototype.setTestconfig=function(){this.config.back=this.config.back||"resources/b2fv.png",this.config.text=this.config.text||"Aâ™ ",this.config.cornerValue=this.config.cornerValue||{},this.config.draggable=this.config.draggable||{},this.config.disable=this.config.disable||!1,this.config.hoverToDisable=this.config.hoverToDisable||!1,this.config.flip=this.config.flip||!1,this.config.clickToFlip=this.config.clickToFlip||!1},BOARDFUL.ui.Card.prototype.onLoad=function(){this.setTestconfig();var a=this,b=this.config.front;void 0!==b&&$(this.selector+" > .front img").attr("src",b);var c=this.config.back;void 0!==c&&$(this.selector+" > .back img").attr("src",c);var d=this.config.text;void 0!==d&&$(this.selector+" > .text span").html(d),void 0!==this.config.cornerValue&&this.effect_list.push(new BOARDFUL.ui.CornerValue(this.canvas,this.config.cornerValue)),void 0!==this.config.draggable&&this.effect_list.push(new BOARDFUL.ui.Draggable(this.canvas,this.config.draggable)),!0===this.config.disable&&(this.fog=this.fog||new BOARDFUL.ui.Fog(this.canvas),this.effect_list.push(this.fog),setTimeout(function(){a.fog.enable()},500)),!0===this.config.hoverToDisable&&(this.fog=this.fog||new BOARDFUL.ui.Fog(this.canvas),this.effect_list.push(this.fog),$(this.canvas).hover(function(){a.fog.enable()},function(){a.fog.disable()})),!0===this.config.flip&&(this.flip=this.flip||new BOARDFUL.ui.Flip(this.canvas),this.effect_list.push(this.flip),this.flip.flip()),!0===this.config.clickToFlip&&(this.flip=this.flip||new BOARDFUL.ui.Flip(this.canvas),this.effect_list.push(this.flip),$(this.canvas).click(function(){a.flip.flip()}))};var BOARDFUL=BOARDFUL||{};BOARDFUL.ui=BOARDFUL.ui||{},BOARDFUL.ui.Deck=function(a,b){b=b||{},b.className=b.className||"boardful_deck",b.htmlFile=b.htmlFile||"src/board/deck.html",this.card_num=0,this.init(a,b)},BOARDFUL.ui.Deck.prototype=new BOARDFUL.ui.Object,BOARDFUL.ui.Deck.prototype.setTestconfig=function(){},BOARDFUL.ui.Deck.prototype.onLoad=function(){this.setTestconfig()},BOARDFUL.ui.Deck.prototype.adjust=function(a){for(;$(this.selector+" > .left > div").length>$(this.selector+" > .right > div").length+1;){var b=$(this.selector+" > .left :first-child").detach();$(this.selector+" > .right").append(b)}for(;$(this.selector+" > .right > div").length>$(this.selector+" > .left > div").length+1;){var b=$(this.selector+" > .right :first-child").detach();$(this.selector+" > .left").append(b)}this.card_num=$(this.selector+" > div > div").length,this.card_num>=10?$(this.selector).addClass("compact"):$(this.selector).removeClass("compact")},BOARDFUL.ui.Deck.prototype.addCards=function(a){for(var b=0;a>b;++b){$(this.selector+" .left").append('<div id="'+this.card_num+'"></div>');new BOARDFUL.ui.Card("#"+this.card_num);++this.card_num}this.adjust()};var BOARDFUL=BOARDFUL||{};BOARDFUL.ui=BOARDFUL.ui||{},BOARDFUL.ui.Icon=function(a,b){$(a).addClass("boardful_icon_round"),$(a).load("src/icon.html")};var BOARDFUL=BOARDFUL||{};BOARDFUL.ui=BOARDFUL.ui||{},BOARDFUL.ui.List=function(a,b){b=b||{},b.className=b.className||"boardful_list",b.htmlFile=b.htmlFile||"src/board/list.html",this.items=[],this.init(a,b)},BOARDFUL.ui.List.prototype=new BOARDFUL.ui.Object,BOARDFUL.ui.List.prototype.setTestconfig=function(){this.config.height=this.config.height||"30%",this.config.width=this.config.width||"50%",this.config.image=this.config.image||"resources/b2fv.png"},BOARDFUL.ui.List.prototype.onLoad=function(){this.setTestconfig();var a=this;void 0!==this.config.height&&$(this.canvas).css("height",this.config.height),void 0!==this.config.width&&$(this.canvas).css("width",this.config.width),void 0!==this.config.image&&$(a.canvas+" > .preview > img").attr("src",this.config.image)},BOARDFUL.ui.List.prototype.addItems=function(a){var b=this;for(var c in a){var d='<div id="'+this.items.length+'" class="item">'+a[c].text+"</div>";$(this.canvas+" > .names").append(d),$(this.canvas+" > .names > #"+this.items.length).mouseover(function(){var a=parseInt($(this).attr("id"));$(b.canvas+" > .preview > img").attr("src",b.items[a].image)}),this.items.push(a[c])}};var BOARDFUL=BOARDFUL||{};BOARDFUL.ui=BOARDFUL.ui||{},BOARDFUL.ui.MessageBox=function(a,b){b=b||{},b.className=b.className||"boardful_messagebox",b.htmlFile=b.htmlFile||"src/board/messagebox.html",this.init(a,b)},BOARDFUL.ui.MessageBox.prototype=new BOARDFUL.ui.Object,BOARDFUL.ui.MessageBox.prototype.setTestconfig=function(){this.config.height=this.config.height||"50%",this.config.width=this.config.width||"30%"},BOARDFUL.ui.MessageBox.prototype.onLoad=function(){this.setTestconfig();void 0!==this.config.height&&$(this.canvas).css("height",this.config.height),void 0!==this.config.width&&$(this.canvas).css("width",this.config.width)},BOARDFUL.ui.MessageBox.prototype.addMessage=function(a){$(this.canvas).append('<div class="message"></div>'),$(this.canvas+" .message:last-child").html(a);var b=$(this.canvas+" .message:last-child");setTimeout(function(){b.addClass("close")},5e3)};var BOARDFUL=BOARDFUL||{};BOARDFUL.ui=BOARDFUL.ui||{},BOARDFUL.ui.Player=function(a,b){b=b||{},b.className=b.className||"boardful_player",b.htmlFile=b.htmlFile||"src/board/player.html",this.init(a,b)},BOARDFUL.ui.Player.prototype=new BOARDFUL.ui.Object,BOARDFUL.ui.Player.prototype.setTestconfig=function(){},BOARDFUL.ui.Player.prototype.onLoad=function(){this.setTestconfig();void 0!==this.config.height&&$(this.canvas).css("height",this.config.height),void 0!==this.config.width&&$(this.canvas).css("width",this.config.width);new BOARDFUL.ui.Deck(this.canvas+" > .player_deck",{height:"100%"})};var BOARDFUL=BOARDFUL||{};BOARDFUL.ui=BOARDFUL.ui||{},BOARDFUL.ui.Reminder=function(a,b){b=b||{},b.className=b.className||"boardful_reminder",b.htmlFile=b.htmlFile||"src/board/reminder.html",this.init(a,b)},BOARDFUL.ui.Reminder.prototype=new BOARDFUL.ui.Object,BOARDFUL.ui.Reminder.prototype.setTestconfig=function(){this.config.text=this.config.text||"test test test!!!"},BOARDFUL.ui.Reminder.prototype.onLoad=function(){this.setTestconfig();var a=this;void 0!==this.config.height&&$(this.canvas).css("height",this.config.height),void 0!==this.config.width&&$(this.canvas).css("width",this.config.width),$(this.canvas+" > span").html(this.config.text),setTimeout(function(){$(a.canvas).css({opacity:0})},2e3)};var BOARDFUL=BOARDFUL||{};BOARDFUL.ui=BOARDFUL.ui||{},BOARDFUL.ui.Table=function(a,b){b=b||{},b.className=b.className||"boardful_table",b.htmlFile=b.htmlFile||"src/board/table.html",this.init(a,b)},BOARDFUL.ui.Table.prototype=new BOARDFUL.ui.Object,BOARDFUL.ui.Table.prototype.setTestconfig=function(){this.config.droppable=this.config.droppable||!0},BOARDFUL.ui.Table.prototype.onLoad=function(){this.setTestconfig();void 0!==this.config.height&&$(this.canvas).css("height",this.config.height),void 0!==this.config.width&&$(this.canvas).css("width",this.config.width),!0===this.config.droppable&&$(".boardful_table").droppable({drop:function(a,b){$(this).html("Dropped!")}})};var BOARDFUL=BOARDFUL||{};BOARDFUL.ui=BOARDFUL.ui||{},BOARDFUL.ui.ValueChange=function(a,b){b=b||{},b.className=b.className||"boardful_value_change",b.htmlFile=b.htmlFile||"src/board/value_change.html",this.init(a,b)},BOARDFUL.ui.ValueChange.prototype=new BOARDFUL.ui.Object,BOARDFUL.ui.ValueChange.prototype.setTestconfig=function(){this.config.value=this.config.value||"+100000",this.config.type=this.config.type||"increase"},BOARDFUL.ui.ValueChange.prototype.onLoad=function(){this.setTestconfig();var a=this;void 0!==this.config.height&&$(this.canvas).css("height",this.config.height),void 0!==this.config.width&&$(this.canvas).css("width",this.config.width),$(this.canvas+" .change").html(this.config.value),$(this.canvas).addClass(this.config.type),setTimeout(function(){$(a.canvas).addClass("vanish")},2e3)};var BOARDFUL=BOARDFUL||{};BOARDFUL.ui=BOARDFUL.ui||{},BOARDFUL.ui.CornerValue=function(a,b){b=b||{},b.className=b.className||"boardful_corner_value",b.htmlFile=b.htmlFile||"src/effect/corner_value.html",this.init(a,b)},BOARDFUL.ui.CornerValue.prototype=new BOARDFUL.ui.Object,BOARDFUL.ui.CornerValue.prototype.setTestconfig=function(){this.config.topleft=this.config.topleft||"1",this.config.topright=this.config.topright||"2",this.config.bottomleft=this.config.bottomleft||"3",this.config.bottomright=this.config.bottomright||"4",this.config.hoverShow=this.config.hoverShow||!0},BOARDFUL.ui.CornerValue.prototype.onLoad=function(){this.setTestconfig();var a=this,b=this.config.topleft;void 0!==b&&$(this.selector+" > .topleft span").html(b);var c=this.config.topright;void 0!==c&&$(this.selector+" > .topright span").html(c);var d=this.config.bottomleft;void 0!==d&&$(this.selector+" > .bottomleft span").html(d);var e=this.config.bottomright;void 0!==e&&$(this.selector+" > .bottomright span").html(e),!0===this.config.hoverShow&&$(this.selector).hover(function(){$(a.selector).addClass("visible")},function(){$(a.selector).removeClass("visible")})};var BOARDFUL=BOARDFUL||{};BOARDFUL.ui=BOARDFUL.ui||{},BOARDFUL.ui.Draggable=function(a,b){b=b||{},b.className=b.className||"boardful_draggable",b.htmlFile=b.htmlFile||"src/effect/draggable.html",this.init(a,b)},BOARDFUL.ui.Draggable.prototype=new BOARDFUL.ui.Object,BOARDFUL.ui.Draggable.prototype.setTestconfig=function(){this.config.revert=this.config.revert||!0,this.config.flip=this.config.flip||{}},BOARDFUL.ui.Draggable.prototype.onLoad=function(){$(this.canvas).addClass(this.config.className),this.setTestconfig();var a=this;$(this.canvas).draggable({revert:a.config.revert,start:function(){$(this).addClass("dragging"),b.begin()},drag:function(){},stop:function(){$(this).removeClass("dragging"),b.stop()}});var b;void 0!==this.config.flip&&(b=new BOARDFUL.ui.Flip(this.canvas,this.config.flip),this.effect_list.push(b))};var BOARDFUL=BOARDFUL||{};BOARDFUL.ui=BOARDFUL.ui||{},BOARDFUL.ui.Flip=function(a,b){b=b||{},b.className=b.className||"boardful_flip",b.htmlFile=b.htmlFile||"src/effect/flip.html",this.init(a,b)},BOARDFUL.ui.Flip.prototype=new BOARDFUL.ui.Object,BOARDFUL.ui.Flip.prototype.setTestconfig=function(){this.config.flipTime=this.config.flipTime||3e3,this.config.flipBackTime=this.config.flipBackTime||1500},BOARDFUL.ui.Flip.prototype.onLoad=function(){$(this.canvas).addClass(this.config.className),this.setTestconfig()},BOARDFUL.ui.Flip.prototype.flip=function(){$(this.canvas+" > .boardful_card").toggleClass("flipping")},BOARDFUL.ui.Flip.prototype.begin=function(){var a=this;this.interval_id=setInterval(function(){$(a.canvas+" > .boardful_card").hasClass("flipping")||($(a.canvas+" > .boardful_card").addClass("flipping"),setTimeout(function(){$(a.canvas+" > .boardful_card").hasClass("flipping")&&$(a.canvas+" > .boardful_card").removeClass("flipping")},a.config.flipBackTime))},a.config.flipTime)},BOARDFUL.ui.Flip.prototype.stop=function(){clearInterval(this.interval_id),$(this.canvas+" > .boardful_card").removeClass("flipping")};var BOARDFUL=BOARDFUL||{};BOARDFUL.ui=BOARDFUL.ui||{},BOARDFUL.ui.Fog=function(a,b){b=b||{},b.className=b.className||"boardful_fog",b.htmlFile=b.htmlFile||"src/effect/fog.html",this.init(a,b)},BOARDFUL.ui.Fog.prototype=new BOARDFUL.ui.Object,BOARDFUL.ui.Fog.prototype.setTestconfig=function(){},BOARDFUL.ui.Fog.prototype.onLoad=function(){this.setTestconfig()},BOARDFUL.ui.Fog.prototype.enable=function(){$(this.selector).addClass("visible")},BOARDFUL.ui.Fog.prototype.disable=function(){$(this.selector).removeClass("visible")};